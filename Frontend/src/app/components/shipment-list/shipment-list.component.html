<p-toast></p-toast>
<p-table [value]="shipments" [paginator]="true" [rows]="4" responsiveLayout="scroll">
  <ng-template pTemplate="header">
    <tr>
      <th>Container Number</th>
      <th>Origin</th>
      <th>Destination</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-shipment>
    <tr>
      <td>{{ shipment.containerNumber }}</td>
      <td>{{ shipment.originPort }}</td>
      <td>{{ shipment.destinationPort }}</td>
      <td>
        <p-select [options]="statuses" [(ngModel)]="shipment.status" appendTo="body" (onChange)="updateStatus(shipment.id, shipment.status)"></p-select>
      </td>
      <td>
        <button class="bg-red-500 rounded-sm text-white cursor-pointer !px-5 !py-2"  (click)="openDeleteDialog(shipment.id)"><fa-icon [icon]="faTrashCan"></fa-icon></button>
      </td>
    </tr>
  </ng-template>
</p-table>
<p-dialog header="Confirm Deletion" [(visible)]="deleteDialog" modal="true" [style]="{ width: '30vw' }">
  <p>Are you sure you want to delete this shipment?</p>
  <div class="flex justify-end my-3">
    <button pButton label="Cancel" class="p-button-secondary" (click)="cancelDelete()"></button>
    <button pButton label="Delete" class="p-button-danger" (click)="confirmDelete()" style="margin-left: 10px;"></button>
  </div>
</p-dialog>